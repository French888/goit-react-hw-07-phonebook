(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{17:function(t,e,a){t.exports={App:"App_App__2htTF",title:"App_title__21tVk"}},21:function(t,e,a){t.exports={label:"Filter_label__2IblF",input:"Filter_input__MuIsQ"}},37:function(t,e,a){},6:function(t,e,a){t.exports={formWrapper:"ContactForm_formWrapper__1k625",form:"ContactForm_form__n9nM6",label:"ContactForm_label__gG0Os",input:"ContactForm_input__3vmC2",button:"ContactForm_button__FVYoG"}},64:function(t,e,a){"use strict";a.r(e);var n=a(0),c=a.n(n),r=a(14),s=a.n(r),o=(a(37),a(17)),u=a.n(o),l=a(22),i=a(6),b=a.n(i),p=a(7),j=a.n(p),d=a(18),f=a(3),m=a(9),h=a.n(m);h.a.defaults.headers.post["Access-Control-Allow-Origin"]="*",h.a.defaults.baseURL="https://61a9f5a7bfb110001773efdd.mockapi.io";var O=Object(f.c)("contacts/fetchContacts",function(){var t=Object(d.a)(j.a.mark((function t(e,a){var n,c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.rejectWithValue,t.prev=1,t.next=4,h.a.get("/contacts");case 4:return c=t.sent,r=c.data,t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(1),n(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,a){return t.apply(this,arguments)}}()),v=Object(f.c)("contacts/addContact",function(){var t=Object(d.a)(j.a.mark((function t(e,a){var n,c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.rejectWithValue,t.prev=1,t.next=4,h.a.post("/contacts",e);case 4:return c=t.sent,r=c.data,t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(1),n(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,a){return t.apply(this,arguments)}}()),x=Object(f.c)("contacts/deleteContact",function(){var t=Object(d.a)(j.a.mark((function t(e,a){var n,c,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.rejectWithValue,t.prev=1,t.next=4,h.a.delete("/contacts/".concat(e));case 4:return c=t.sent,r=c.data.id,t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(1),n(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e,a){return t.apply(this,arguments)}}()),_={addContacts:v,deleteContacts:x,fetchContacts:O},C=a(5),N=a(15),w=function(t){return t.contacts.items},g=function(t){return t.contacts.filter},k=Object(N.a)([w,g],(function(t,e){var a=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(a)}))})),y=a(1);var A=function(){var t=Object(n.useState)(""),e=Object(l.a)(t,2),a=e[0],c=e[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),o=s[0],u=s[1],i=Object(C.c)(w),p=Object(C.b)(),j=function(t){switch(t.target.name){case"name":c(t.target.value);break;case"number":u(t.target.value);break;default:return}},d=function(){c(""),u("")};return Object(y.jsx)("div",{className:b.a.formWrapper,children:Object(y.jsxs)("form",{className:b.a.form,onSubmit:function(t){if(t.preventDefault(),i.find((function(t){return t.name.toLowerCase()===a.toLowerCase()})))return alert("This contact has already been added to the list");p(_.addContacts({name:a,number:o})),d()},children:[Object(y.jsxs)("label",{className:b.a.label,children:["Name",Object(y.jsx)("input",{className:b.a.input,value:a,type:"text",name:"name",placeholder:"Name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",onChange:j})]}),Object(y.jsxs)("label",{className:b.a.label,children:["Number",Object(y.jsx)("input",{className:b.a.input,type:"tel",value:o,name:"number",placeholder:"Number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",onChange:j})]}),Object(y.jsx)("button",{className:b.a.button,children:"Add contact"})]})})},F=a(8),L=a.n(F),W=function(){var t=Object(C.c)(k),e=Object(C.b)();return Object(n.useEffect)((function(){e(_.fetchContacts())}),[e]),Object(y.jsx)("div",{className:L.a.listWrapper,children:Object(y.jsx)("ul",{className:L.a.list,children:t.map((function(t){var a=t.name,n=t.number,c=t.id;return Object(y.jsxs)("li",{className:L.a.item,children:[Object(y.jsxs)("p",{className:L.a.text,children:[a,":"]}),Object(y.jsx)("p",{className:L.a.text,children:n}),Object(y.jsx)("button",{className:L.a.button,type:"button",onClick:function(){return e(_.deleteContacts(c))},children:"Delete"})]},c)}))})})},V=a(21),z=a.n(V),S=Object(f.b)("contacts/filter");var T=function(){var t=Object(C.c)(g),e=Object(C.b)();return Object(y.jsxs)("label",{className:z.a.label,children:["Find contacts by name",Object(y.jsx)("input",{className:z.a.input,type:"text",name:"name",value:t,onChange:function(t){return e(S(t.target.value))}})]})};var E,I=function(){return Object(y.jsxs)("div",{className:u.a.App,children:[Object(y.jsx)("h1",{className:u.a.title,children:"Phonebook"}),Object(y.jsx)(A,{}),Object(y.jsx)("h2",{className:u.a.title,children:"Contacts"}),Object(y.jsx)(T,{}),Object(y.jsx)(W,{})]})},M=a(11),Z=a(32),B=a(4),D=_.addContacts,G=_.deleteContacts,J=_.fetchContacts,P=Object(f.d)([],(E={},Object(M.a)(E,J.fulfilled,(function(t,e){return e.payload})),Object(M.a)(E,D.fulfilled,(function(t,e){var a=e.payload;return[].concat(Object(Z.a)(t),[a])})),Object(M.a)(E,G.fulfilled,(function(t,e){var a=e.payload;return t.filter((function(t){return t.id!==a}))})),E)),Q=Object(f.d)("",Object(M.a)({},S,(function(t,e){return e.payload}))),R=Object(B.b)({items:P,filter:Q}),U=Object(f.a)({reducer:{contacts:R},devTools:!1});s.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(C.a,{store:U,children:Object(y.jsx)(I,{})})}),document.getElementById("root"))},8:function(t,e,a){t.exports={item:"ContactList_item__2BTiv",text:"ContactList_text__2EgOL",button:"ContactList_button__39juz"}}},[[64,1,2]]]);
//# sourceMappingURL=main.f75a4df3.chunk.js.map